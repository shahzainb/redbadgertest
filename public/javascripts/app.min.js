var redBadger=(function(){var e=null;var j={x:5,y:3,robotStartingPosition:{x:1,y:1,orientation:"E"}};var a="martianCanvas";var h=document.getElementById("drawGrid");var f=document.getElementById("gridCoordinates");var c=document.getElementById("robotPosition");var d=document.getElementById("drawRobot");var i=document.getElementById("runInstructions");var g=document.getElementById("instructions");var b=document.getElementById("outputData");return{initialise:function(){h.addEventListener("click",this.onDrawGridClick,false);i.addEventListener("click",this.onRunInstructionsClick,false);d.addEventListener("click",this.onDrawRobotClick,false)},onDrawGridClick:function(){var k=f.value;if(k.match(/[0-9]+,[0-9]+/)==null){toastr.error("Please type the coordinates like 5,3","Error");return}k=k.split(",");k=k.map(Number);j.x=k[0]*100;j.y=k[1]*100;e=new MartianRobots(j);e.begin(a)},onDrawRobotClick:function(){var k=c.value.toUpperCase();if(k.match(/[0-9]+,[0-9]+,[nNsSwWeE]/)==null){toastr.error("Please type the coordinates like 1,1,E. Only N, S, W, E are allowed for orientation.","Error");return}else{if(e==null){toastr.error("Please enter Grid Coordinates first and click on 'Draw Grid'.","Error");return}}k=k.split(",");j.robotStartingPosition.x=parseInt(k[0],10)*100;j.robotStartingPosition.y=parseInt(k[1],10)*100;j.robotStartingPosition.orientation=k[2];e.inputData=j;e.drawRobot()},onRunInstructionsClick:function(){var k=g.value.toUpperCase();e.runInstructions(k,b)}}})();redBadger.initialise();